(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},127:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){},131:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(25),s=a.n(c),i=(a(73),a(13)),o=a(8),l=a.n(o),j=a(10),u=a(12),d=a(18),m=a(9),b=(a(75),a(76),a(139)),p=a(140),h=a(138),x=(a(77),a(2));var O=a(63),f=a(68),g=a(64),v=a(34),N=a(61);var y=function(e){var t=Object(m.f)(),a="/img/",r={padding:"0px",marginLeft:"0px"};return Object(x.jsxs)(x.Fragment,{children:[e.userData.user?Object(x.jsxs)(N.slide,{style:{top:"0px",right:"0px"},children:[Object(x.jsxs)("a",{className:"menu-item",href:"/",children:[Object(x.jsx)(v.c,{style:{marginRight:"8px"}})," Home"]}),Object(x.jsxs)("a",{className:"menu-item",href:"/productlist",children:[Object(x.jsx)(O.a,{style:{marginRight:"8px"}})," For Sale & Free"]}),Object(x.jsxs)("a",{className:"menu-item",href:"/upload",children:[Object(x.jsx)(g.a,{style:{marginRight:"8px"}})," List a product"]})]}):null,Object(x.jsxs)(b.a,{bg:"light",variant:"light",children:[Object(x.jsxs)(b.a.Brand,{href:"/",children:[Object(x.jsx)("img",{alt:"logo",src:"".concat(a,"neighbor.png"),className:"d-inline-block align-top logo"})," ","Hey, Neighbor"]}),Object(x.jsx)(p.a,{className:"ml-auto",children:e.userData.user?Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"navbar-links-div",style:{display:"flex",paddingRight:"10px"},children:[Object(x.jsx)(p.a.Link,{onClick:function(){t.push("/account")},style:{paddingRight:"0px",marginRight:"-3px"},children:Object(x.jsx)("img",{id:"profileImage",src:"".concat(a,"default_avatar.png"),alt:"Avatar",width:"30px"})}),Object(x.jsxs)(h.a,{title:"".concat(e.userData.user.firstName," ").concat(e.userData.user.lastName),id:"nav-dropdown",className:"dropdown-menu-right text-title-case",width:"10px",style:{paddingTop:"6px",marginLeft:"0px",paddingLeft:"0px",paddingRight:"20px"},children:[Object(x.jsx)(h.a.Item,{style:r,children:Object(x.jsxs)(p.a.Link,{onClick:function(){e.logout(),t.push("/")},children:[Object(x.jsx)(f.a,{style:{marginRight:"8px"}}),"Logout"]})}),Object(x.jsx)(h.a.Item,{style:r,children:Object(x.jsxs)(p.a.Link,{onClick:function(){t.push("/account")},children:[Object(x.jsx)(v.b,{style:{marginRight:"8px"}}),"Profile"]})})]})]})}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(p.a.Link,{onClick:function(){t.push("/login")},children:"Login"}),Object(x.jsx)(p.a.Link,{onClick:function(){t.push("/register")},children:"Register"})]})})]})]})};a(105);var w=function(e){return Object(x.jsx)("div",{className:"wrapper",children:e.children})};a(106);var k=function(){return Object(x.jsx)("footer",{className:"footer py-4 bg-dark text-white",children:Object(x.jsx)("div",{className:"container text-center",children:Object(x.jsx)("small",{children:"Copyright \xa9 2021"})})})};a(107);var C=function(e){return Object(x.jsx)("div",{className:"banner-image",style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(".concat(e.backgroundImage,")")},children:Object(x.jsxs)("div",{className:"banner-text",children:[Object(x.jsxs)("h1",{children:["Welcome ",e.title,"!"]}),Object(x.jsx)("p",{children:e.subtitle}),Object(x.jsx)("br",{}),e.user?Object(x.jsxs)("div",{children:[Object(x.jsx)(d.b,{to:"/upload",children:Object(x.jsx)("button",{children:"Upload "})}),Object(x.jsx)(d.b,{to:"/productlist",children:Object(x.jsx)("button",{children:"Products"})})]}):Object(x.jsxs)("div",{children:[Object(x.jsx)(d.b,{to:"/login",children:Object(x.jsx)("button",{children:"Login "})}),Object(x.jsx)(d.b,{to:"/register",children:Object(x.jsx)("button",{children:"Register"})})]})]})})};var S=function(e){return Object(x.jsx)("div",{children:e.userData.user?Object(x.jsx)(C,{backgroundImage:"https://i.pinimg.com/564x/87/f5/0a/87f50a74c7fe20e185045d65492a9052.jpg",title:e.userData.user.firstName,user:e.userData.user}):Object(x.jsx)(C,{backgroundImage:"https://i.pinimg.com/564x/87/f5/0a/87f50a74c7fe20e185045d65492a9052.jpg",title:"Neighbor"})})},P=a(20),F=Object(r.createContext)(null);a(108);var L=function(e){return Object(x.jsx)("div",{className:"container",style:e.style,children:e.children})},D=a(22),I=a.n(D),q=function(e){return I.a.get("/users",{headers:{"x-auth-token":e}})},T=function(e){return I.a.post("/users/register",e)},R=function(e){return I.a.delete("/users/delete",{headers:{"x-auth-token":e}})},A=function(e){return I.a.get("/users/tokenIsValid",{headers:{"x-auth-token":e}})},E=function(e){return I.a.delete("/confirm",{headers:{"x-auth-token":e}})},U=function(e){return I.a.post("/users/login",e)},z=function(e,t){return I.a.patch("/users/"+e,t)},B=function(e){return I.a.delete("/blog/"+e)},_=function(e){return I.a.post("/blog/",e)};function J(){var e,t=Object(r.useContext)(F).userData,a=Object(r.useState)(""),n=Object(u.a)(a,2),c=n[0],s=n[1],o=Object(r.useState)(""),d=Object(u.a)(o,2),b=d[0],p=d[1],h=Object(r.useState)(),O=Object(u.a)(h,2),f=O[0],g=O[1],v=Object(r.useState)(),N=Object(u.a)(v,2),y=N[0],w=N[1],k=Object(m.f)(),C=function(e){w(Object(i.a)(Object(i.a)({},y),{},Object(P.a)({},e.target.name,e.target.value)))},S=function(){var e=Object(j.a)(l.a.mark((function e(a){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(i.a)(Object(i.a)({},y),{},{userId:t.user.id,displayName:t.user.displayName,zipCode:t.user.zipCode},a),console.log(r),e.prev=2,e.next=5,_(r);case 5:k.push("/productlist"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0.response),alert(e.t0.response.data.msg);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),D=function(e){var t=new FileReader;t.readAsDataURL(e),t.onloadend=function(){p(t.result)}},I=function(){var e=Object(j.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),f){e.next=3;break}return e.abrupt("return");case 3:(a=new FileReader).readAsDataURL(f),a.onloadend=function(){q(a.result)},a.onerror=function(){console.error("Error")};case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/upload",{method:"POST",body:JSON.stringify({data:t}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e);var t={imgUrl:e.url};console.log(t),S(t)}));case 3:s(""),p(""),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(L,{children:Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{className:"title",children:"Upload Product"}),b&&Object(x.jsx)("img",{src:b,alt:"chosen",style:{height:"300px"}}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{className:"mb-3",children:[Object(x.jsx)("label",{htmlFor:"exampleFormControlInput1",className:"form-label",children:"Title"}),Object(x.jsx)("input",{type:"email",className:"form-control",id:"exampleFormControlInput1",onChange:C,name:"title",placeholder:"Enter Product Name"})]}),Object(x.jsxs)("div",{className:"mb-3",children:[Object(x.jsx)("label",{htmlFor:"exampleFormControlTextarea1",className:"form-label",children:"Description"}),Object(x.jsx)("textarea",{className:"form-control",id:"exampleFormControlTextarea1",rows:"3",onChange:C,name:"text",placeholder:"Enter Product Description"})]}),Object(x.jsxs)("div",{className:"mb-3",children:[Object(x.jsx)("label",{htmlFor:"exampleFormControlPricearea1",className:"form-label",children:"Price"}),Object(x.jsx)("input",{type:"number",className:"form-control",id:"exampleFormControlPricearea1",rows:"3",onChange:C,name:"price",placeholder:"Enter a Price"})]}),Object(x.jsxs)("form",(e={className:"col-md-8",onSubmit:I},Object(P.a)(e,"className","form"),Object(P.a)(e,"children",[Object(x.jsx)("label",{children:"Upload Image"}),Object(x.jsx)("input",{id:"imgId",type:"file",name:"image",onChange:function(e){var t=e.target.files[0];D(t),g(t),s(e.target.value)},value:c,className:"form-control"}),Object(x.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Upload"})]),e))]})})}var M=a(27),W=a(28),Z=a(31),H=a(29);var V=function(){var e=Object(r.useState)(),t=Object(u.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(),s=Object(u.a)(c,2),o=(s[0],s[1]),d=Object(m.f)(),b=function(e){n(Object(i.a)(Object(i.a)({},a),{},Object(P.a)({},e.target.name,e.target.value)))},p=function(){var e=Object(j.a)(l.a.mark((function e(t){var r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,U(a);case 4:return r=e.sent,n=r.data,console.log(n),o({token:n.token,user:n.user}),localStorage.setItem("auth-token",n.token),e.next=11,d.push("/account");case 11:window.location.reload(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0.response),alert(e.t0.response.data.msg);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(L,{children:[Object(x.jsx)("div",{className:"row",children:Object(x.jsxs)("div",{className:"col-md-12",children:[Object(x.jsx)("h3",{className:"text-center font-weight-bold",children:"Login"}),Object(x.jsx)("p",{className:"text-muted text-center",children:"Welcome Back! Please login to your account"})]})}),Object(x.jsx)("div",{className:"row",children:Object(x.jsx)("div",{className:"col-md-12",children:Object(x.jsxs)("form",{className:"signin pt-1",method:"POST",enctype:"multipart/form-data",onSubmit:p,children:[Object(x.jsxs)("div",{className:"form-group col-12",children:[Object(x.jsx)("label",{for:"email-input",children:"Email Address"}),Object(x.jsx)("input",{type:"email",className:"form-control",id:"email-input",placeholder:"Email Address",required:!0,onChange:b,name:"email"}),Object(x.jsx)("small",{id:"email-validation",className:"form-text"})]}),Object(x.jsxs)("div",{className:"form-group col-12",children:[Object(x.jsx)("label",{for:"password-input",children:"Password"}),Object(x.jsx)("input",{type:"password",className:"form-control",id:"password-input",placeholder:"Password",required:!0,onChange:b,name:"password"})]}),Object(x.jsx)("div",{className:"col-md-12",children:Object(x.jsx)("button",{className:"btn btn-default btn-primary",children:"Submit"})})]})})})]})},Y=function(e){Object(Z.a)(a,e);var t=Object(H.a)(a);function a(){return Object(M.a)(this,a),t.apply(this,arguments)}return Object(W.a)(a,[{key:"render",value:function(){return Object(x.jsx)(V,{})}}]),a}(r.Component);a(127);var $=function(){var e=Object(r.useState)(),t=Object(u.a)(e,2),a=t[0],n=t[1],c=Object(m.f)(),s=Object(r.useRef)(null),o=function(e){n(Object(i.a)(Object(i.a)({},a),{},Object(P.a)({},e.target.name,e.target.value)))},d=function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,T(a);case 4:c.push("/"),window.location.reload(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.response),alert(e.t0.response.data.msg);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(L,{children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("h2",{className:"text-center",children:"Create Account"}),Object(x.jsx)("hr",{}),Object(x.jsxs)("form",{className:"signup pt-1",method:"POST",enctype:"multipart/form-data",onSubmit:d,children:[Object(x.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(x.jsxs)("div",{id:"profile-container",children:[Object(x.jsx)("img",{id:"profileImage",src:"".concat("/img/","default_avatar.png"),alt:"Avatar"}),Object(x.jsx)("div",{className:"icon-container",children:Object(x.jsx)("div",{className:"camera-icon",children:Object(x.jsx)(v.a,{})})})]}),Object(x.jsx)("input",{ref:s,id:"profile-img-input",type:"file",name:"profile_image",placeholder:"Profile Image",accept:"image/png, image/jpeg"})]}),Object(x.jsx)("small",{className:"form-text text-center text-muted",id:"profile-img-validation",children:"Choose Image"}),Object(x.jsxs)("div",{className:"form-row",children:[Object(x.jsxs)("div",{className:"form-group col-4",children:[Object(x.jsx)("label",{for:"firstName-input",children:"First Name"}),Object(x.jsx)("input",{type:"text",className:"form-control",placeholder:"First name",id:"firstName-input",required:!0,onChange:o,name:"firstName"}),Object(x.jsx)("small",{id:"first-name-validation",className:"form-text"})]}),Object(x.jsxs)("div",{className:"form-group col-4",children:[Object(x.jsx)("label",{for:"lastName-input",children:"Last Name"}),Object(x.jsx)("input",{type:"text",className:"form-control",placeholder:"Last name",id:"lastName-input",required:!0,onChange:o,name:"lastName"}),Object(x.jsx)("small",{id:"last-name-validation",className:"form-text"})]}),Object(x.jsxs)("div",{className:"form-group col-4",children:[Object(x.jsx)("label",{for:"lastName-input",children:"Username"}),Object(x.jsx)("input",{type:"text",className:"form-control",placeholder:"Username",id:"displayName-input",required:!0,onChange:o,name:"displayName"}),Object(x.jsx)("small",{id:"last-name-validation",className:"form-text"})]})]}),Object(x.jsxs)("div",{className:"form-row",children:[Object(x.jsxs)("div",{className:"form-group col-7",children:[Object(x.jsx)("label",{for:"email-input",children:"Email Address"}),Object(x.jsx)("input",{type:"email",className:"form-control",id:"email-input",placeholder:"Email Address",required:!0,onChange:o,name:"email"}),Object(x.jsx)("small",{id:"email-validation",className:"form-text"})]}),Object(x.jsxs)("div",{className:"form-group col-5",children:[Object(x.jsx)("label",{for:"phone-input",children:"Phone Number"}),Object(x.jsx)("input",{type:"tel",className:"form-control",id:"phone-input",pattern:"[0-9]{3}[0-9]{3}[0-9]{4}",placeholder:"Phone Number",required:!0,onChange:o,name:"phoneNumber"}),Object(x.jsx)("small",{id:"phone-validation",className:"form-text"})]})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{for:"street-address-input",children:"Street Address"}),Object(x.jsx)("input",{type:"text",className:"form-control",id:"street-address-input",placeholder:"Street Address",required:!0,onChange:o,name:"streetAddress"})]}),Object(x.jsxs)("div",{className:"form-row",children:[Object(x.jsxs)("div",{className:"form-group col-4",children:[Object(x.jsx)("label",{for:"city-input",children:"City"}),Object(x.jsx)("input",{type:"text",className:"form-control",id:"city-input",placeholder:"City",required:!0,onChange:o,name:"city"})]}),Object(x.jsxs)("div",{className:"form-group col-2",children:[Object(x.jsx)("label",{for:"state-input",children:"State"}),Object(x.jsx)("input",{type:"text",className:"form-control",id:"state-input",placeholder:"State",required:!0,onChange:o,name:"state"})]}),Object(x.jsxs)("div",{className:"form-group col-4",children:[Object(x.jsx)("label",{for:"zipcode-input",children:"Zipcode"}),Object(x.jsx)("input",{type:"text",className:"form-control",id:"zipcode-input",placeholder:"Zipcode",required:!0,onChange:o,name:"zipCode"})]}),Object(x.jsxs)("div",{className:"form-group col-2",children:[Object(x.jsx)("label",{for:"country-input",children:"Country"}),Object(x.jsx)("input",{type:"text",className:"form-control",id:"country-input",placeholder:"Country",required:!0,onChange:o,name:"country"})]})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{for:"password-input",children:"Password"}),Object(x.jsx)("input",{type:"password",className:"form-control",id:"password-input",placeholder:"Password",required:!0,onChange:o,name:"password"}),Object(x.jsx)("small",{id:"pwd-validation",className:"form-text text-muted",children:"Your password must be 8-20 characters long, contain letters and numbers, and must not contain spaces."})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{for:"confirm-password-input",children:"Confirm Password"}),Object(x.jsx)("input",{type:"password",className:"form-control",id:"confirm-password-input",placeholder:"Confirm Password",required:!0,onChange:o,name:"passwordCheck"}),Object(x.jsx)("small",{id:"confirm-pwd-validation",className:"form-text"})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("span",{className:"text-black-50",children:["By clicking ",Object(x.jsx)("b",{children:'"Submit"'}),", you agree to the storage and handling of your data by this website in accordance with our",Object(x.jsx)("a",{href:"/",children:" Privacy Policy"})]}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{className:"btn btn-default btn-primary",children:"Submit"})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("p",{children:["Already a member? Log in ",Object(x.jsx)("a",{href:"/login",children:"here"})]})]})})},G=function(e){Object(Z.a)(a,e);var t=Object(H.a)(a);function a(){return Object(M.a)(this,a),t.apply(this,arguments)}return Object(W.a)(a,[{key:"render",value:function(){return Object(x.jsx)($,{})}}]),a}(r.Component),K=function(e){Object(Z.a)(a,e);var t=Object(H.a)(a);function a(){return Object(M.a)(this,a),t.apply(this,arguments)}return Object(W.a)(a,[{key:"render",value:function(){return Object(x.jsxs)(L,{children:[Object(x.jsx)("h1",{children:"This is the Messages Page"}),Object(x.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Magnam neque consequuntur asperiores quae quia voluptatem nobis pariatur sed rem dolorum a, iste nemo delectus maiores minus! Consequuntur quaerat excepturi asperiores!"})]})}}]),a}(r.Component),Q=a(49),X=a(136),ee=a(137),te=a(67),ae=a(141),re=function(){var e=Object(m.f)(),t=Object(r.useState)([]),a=Object(u.a)(t,2),n=(a[0],a[1]),c=Object(r.useState)([]),s=Object(u.a)(c,2),i=s[0],o=s[1],d=function(){var e=Object(j.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/images");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,n(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){d()}),[]);var b=function(){var e=Object(j.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/blog/");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,o(a),console.log(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(j.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,a=t.target.id,e.next=5,B(a);case 5:window.location.reload(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){b()}),[]),Object(x.jsxs)(X.a,{fluid:!0,children:[Object(x.jsxs)(ee.a,{className:"text-center",children:[Object(x.jsx)("h1",{children:"Product Listings"}),Object(x.jsx)("p",{children:"Check out all the products listed for sale in your neighborhood"}),Object(x.jsx)("hr",{}),Object(x.jsxs)(te.a,{variant:"primary",onClick:function(){e.push("/upload")},children:["List a product",Object(x.jsx)(Q.a,{style:{marginLeft:"8px",marginBottom:"3px"}})]})]}),i&&i.map((function(e,t){return Object(x.jsx)(ae.a,{className:"mb-3",style:{maxWidth:"540px"},children:Object(x.jsxs)("div",{className:"row no-gutters",children:[Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)("a",{target:"_blank",rel:"noreferrer",href:e.imgUrl,children:Object(x.jsx)(ae.a.Img,{src:e.imgUrl,className:"card-img",alt:"product"})})}),Object(x.jsx)("div",{className:"col-md-8",children:Object(x.jsxs)(ae.a.Body,{children:[Object(x.jsx)(ae.a.Title,{style:{textTransform:"capitalize"},children:e.title}),Object(x.jsxs)(ae.a.Text,{children:[Object(x.jsx)("strong",{children:"Description: "}),e.text,Object(x.jsx)("br",{}),Object(x.jsx)("strong",{children:"Price:"})," $",e.price,Object(x.jsx)("br",{}),Object(x.jsxs)(ae.a.Text,{style:{textTransform:"capitalize"},children:[Object(x.jsx)("strong",{children:"Seller:"})," ",e.displayName]}),Object(x.jsxs)(ae.a.Text,{style:{textTransform:"capitalize"},children:[Object(x.jsx)("strong",{children:"Category:"})," ",e.category]})]}),Object(x.jsx)(ae.a.Text,{children:Object(x.jsxs)("small",{className:"text-muted",children:["Posted at ",e.date]})}),Object(x.jsxs)(te.a,{variant:"danger",size:"sm",id:e._id,onClick:p,className:"mr-1",children:[" ","Delete"," ",Object(x.jsx)(Q.b,{style:{marginLeft:"3px",marginBottom:"3px"}})]})]})})]})},t)}))]})},ne=function(e){Object(Z.a)(a,e);var t=Object(H.a)(a);function a(){return Object(M.a)(this,a),t.apply(this,arguments)}return Object(W.a)(a,[{key:"render",value:function(){return Object(x.jsx)(L,{children:Object(x.jsx)(re,{})})}}]),a}(r.Component),ce=function(e){var t,a,n,c,s,o=Object(r.useContext)(F).userData,d=Object(m.f)(),b=Object(r.useState)(),p=Object(u.a)(b,2),h=p[0],O=p[1],f=function(e){O(Object(i.a)(Object(i.a)({},h),{},Object(P.a)({},e.target.name,e.target.value)))};Object(r.useEffect)(Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("auth-token");case 2:e.sent||d.push("/login");case 4:case"end":return e.stop()}}),e)}))),[o.user,d]),console.log(o.user);var g=function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("auth-token"),e.prev=1,e.next=4,R(t);case 4:return e.next=6,E(t);case 6:d.push("/"),window.location.reload(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.user.id,e.prev=1,e.next=4,z(t,h);case 4:d.push("/account"),window.location.reload(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),alert(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)(L,{children:[Object(x.jsx)("h3",{className:"font-weight-bold",children:"Account Settings"}),Object(x.jsx)("p",{className:"text-muted",children:"Change your profile and account settings"}),Object(x.jsx)("hr",{}),Object(x.jsxs)("form",{children:[Object(x.jsxs)("div",{className:"form-row",children:[Object(x.jsxs)("div",{class:"form-group col-6",children:[Object(x.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(x.jsx)("input",{type:"text",class:"form-control",id:"email",name:"firstName",onChange:f,placeholder:null===(t=o.user)||void 0===t?void 0:t.firstName})]}),Object(x.jsxs)("div",{class:"form-group col-6",children:[Object(x.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(x.jsx)("input",{type:"text",class:"form-control",id:"lastName",name:"lastName",onChange:f,placeholder:null===(a=o.user)||void 0===a?void 0:a.lastName})]})]}),Object(x.jsxs)("div",{className:"form-row",children:[Object(x.jsxs)("div",{class:"form-group col-4",children:[Object(x.jsx)("label",{htmlFor:"username",children:"Username"}),Object(x.jsx)("input",{type:"text",class:"form-control",id:"username",name:"displayName",onChange:f,placeholder:null===(n=o.user)||void 0===n?void 0:n.displayName})]}),Object(x.jsxs)("div",{class:"form-group col-8",children:[Object(x.jsx)("label",{htmlFor:"email",children:"Email"}),Object(x.jsx)("input",{type:"email",class:"form-control",id:"email",name:"email",onChange:f,placeholder:null===(c=o.user)||void 0===c?void 0:c.email})]})]}),Object(x.jsxs)("div",{class:"form-group",children:[Object(x.jsx)("label",{htmlFor:"zipCode",children:"Zip Code"}),Object(x.jsx)("input",{type:"text",class:"form-control",id:"zipCode",name:"zipCode",onChange:f,placeholder:null===(s=o.user)||void 0===s?void 0:s.zipCode})]})]}),Object(x.jsx)("button",{className:"btn btn-success mr-3",onClick:v,children:"Save Profile"}),Object(x.jsx)("button",{className:"btn btn-danger",onClick:g,children:"Delete Account"})]})},se=function(e){return Object(x.jsx)(L,{children:Object(x.jsx)("h1",{children:"404 this page doesn't exist"})})};a(128);var ie=function(e){return Object(x.jsx)("div",{className:"main",children:e.children})},oe=(a(129),function(e){return Object(x.jsx)("div",{className:"wrapper",children:Object(x.jsx)("div",{className:"p-0 container-fluid",children:e.children})})});var le=function(){var e=Object(r.useState)({user:void 0,token:void 0}),t=Object(u.a)(e,2),a=t[0],n=t[1],c=function(){var e=Object(j.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("auth-token");case 2:if(null!==(t=e.sent)){e.next=8;break}localStorage.setItem("auth-token",""),t="",e.next=22;break;case 8:return e.prev=8,e.next=11,A(t);case 11:if(!e.sent.data){e.next=17;break}return e.next=15,q(t);case 15:a=e.sent,n({token:t,user:a.data});case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(8),console.log("User must login");case 22:case"end":return e.stop()}}),e,null,[[8,19]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){c()}),[]),Object(x.jsx)(d.a,{children:Object(x.jsx)(w,{children:Object(x.jsxs)(ie,{children:[Object(x.jsx)(y,{userData:a,logout:function(){console.log("logout clicked"),n({token:void 0,user:void 0}),localStorage.setItem("auth-token","")}}),Object(x.jsx)(oe,{children:Object(x.jsx)(F.Provider,{value:{userData:a,setUserData:n},children:Object(x.jsxs)(m.c,{children:[Object(x.jsx)(m.a,{exact:!0,path:"/",render:function(e){return Object(x.jsx)(S,Object(i.a)(Object(i.a)({},e),{},{userData:a}))}}),Object(x.jsx)(m.a,{exact:!0,path:"/upload",component:J}),Object(x.jsx)(m.a,{exact:!0,path:"/login",component:Y}),Object(x.jsx)(m.a,{exact:!0,path:"/register",component:G}),Object(x.jsx)(m.a,{exact:!0,path:"/messages",component:K}),Object(x.jsx)(m.a,{exact:!0,path:"/productlist",component:ne}),Object(x.jsx)(m.a,{exact:!0,path:"/account",component:ce}),Object(x.jsx)(m.a,{children:Object(x.jsx)(se,{})})]})})}),Object(x.jsx)(k,{})]})})})},je=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,142)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),r(e),n(e),c(e),s(e)}))};a(130);s.a.render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(le,{})}),document.getElementById("root")),je()},73:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){}},[[131,1,2]]]);
//# sourceMappingURL=main.277ef5c5.chunk.js.map